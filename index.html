<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Xp Bazar</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap');

body {
    margin:0;
    font-family:'Orbitron', sans-serif;
    background: radial-gradient(circle at top, #0ff, #000);
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:100vh;
    color:#fff;
    overflow:hidden;
    transition: background 0.5s ease;
}

.container {
    background:#111;
    padding:30px;
    border-radius:20px;
    width:95%;
    max-width:450px;
    text-align:center;
    box-shadow:0 0 25px #0ff;
    opacity:0;
    transform:scale(0.95);
    transition: all 0.5s ease;
}

.container.show{
    opacity:1;
    transform:scale(1);
}

h1.glitch {
  font-size:32px;
  color:#0ff;
  position:relative;
  animation:glitch 1s infinite;
}
@keyframes glitch {
  0%{text-shadow:2px 0 #f0f, -2px 0 #0ff;}
  20%{text-shadow:-2px -2px #f0f, 2px 2px #0ff;}
  40%{text-shadow:2px 2px #f0f, -2px -2px #0ff;}
  60%{text-shadow:-2px 0 #f0f, 2px 0 #0ff;}
  80%{text-shadow:2px -2px #f0f, -2px 2px #0ff;}
  100%{text-shadow:2px 0 #f0f, -2px 0 #0ff;}
}

input, select, button {
    width:100%;
    padding:12px;
    margin:10px 0;
    border-radius:12px;
    border:none;
    text-align:center;
    font-weight:bold;
    background:#222;
    color:#0ff;
    transition: all 0.3s ease;
}

button{
    background:#0ff;
    cursor:pointer;
}
button:hover{
    background:#0aa;
    box-shadow:0 0 15px #0ff;
}

.hidden{display:none;}

.processingScreen{
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  background:#000;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  color:#0ff;
  font-size:24px;
  z-index:9999;
}

.loader{
  margin-top:20px;
  border:5px solid #222;
  border-top:5px solid #0ff;
  border-radius:50%;
  width:50px;
  height:50px;
  animation:spin 5s linear infinite;
}

@keyframes spin{
  0%{transform:rotate(0);}
  100%{transform:rotate(360deg);}
}

.adminBox{
    background:#000;
    padding:10px;
    border-radius:12px;
    max-height:200px;
    overflow:auto;
    font-size:13px;
    text-align:left;
    margin-top:10px;
}

.tooltip{
  font-size:14px;
  color:#0ff;
  text-decoration:underline;
  cursor:pointer;
  margin-top:5px;
}

.tooltipContent{
  background:#111;
  padding:15px;
  border-radius:12px;
  margin-top:10px;
  display:none;
  font-size:13px;
  line-height:1.4;
  box-shadow:0 0 15px #0ff;
}
</style>
</head>
<body>

<div class="container show" id="step1">
<h1 class="glitch">Xp Bazar</h1>
<h2>KOD DAXƒ∞L ET</h2>
<input type="text" id="codeInput">
<button id="checkBtn">KE√áƒ∞D ET</button>
<p id="error" style="color:red;"></p>
<div class="tooltip" onclick="toggleTip()">Nec…ô sipari≈ü verm…ôk olar?</div>
<div class="tooltipContent" id="tipContent">
Tiktok v…ô ya WhatsApp x…ôtti il…ô operatorlarƒ±mƒ±za …ôlaq…ô saxlayƒ±n. Canlƒ± ≈ü…ôkild…ô kartla √∂d…ôni≈ü ed…ôr…ôk siz…ô √∂z…ôl kod alƒ±n. Kodu buradakƒ± b√∂lm…ôy…ô yazƒ±n, ke√ßid et d√ºym…ôsin…ô basƒ±n. Sonra ID-nizi yazƒ±n v…ô sondakƒ± √ßeki m√ºtl…ôq g√∂t√ºr√ºn. Sipari≈üiniz avtomatik 5-10 d…ôqiq…ô …ôrzind…ô tamamlanacaq.
</div>
</div>

<div class="container" id="step2">
<h2>PAKET SE√á</h2>
<select id="ucSelect">
<option>660 UC</option>
<option>1920 UC</option>
<option>3120 UC</option>
<option>8100 UC</option>
<option>Royale Pass Plus 1-100</option>
</select>

<h2>OYUN√áU ID</h2>
<input type="text" id="playerID">
<button id="continueBtn">DAVAM ET</button>
</div>

<div class="container" id="step3">
<h2>Q∆èBZ ENDƒ∞R</h2>
<button id="downloadBtn">ENDƒ∞R</button>
</div>

<div class="container" id="adminPanel">
<h2>ADMIN PANEL</h2>
<input type="text" id="newCode" placeholder="Yeni kod …ôlav…ô et">
<button id="addCodeBtn">Kod …ôlav…ô et</button>
<h3>Aktiv Kodlar</h3>
<div class="adminBox" id="codeList"></div>
<h3>Loglar</h3>
<div class="adminBox" id="logList"></div>
<button id="backBtn">Geri</button>
</div>

<script>
document.addEventListener("DOMContentLoaded", function(){

let validCodes = JSON.parse(localStorage.getItem("validCodes")) || ["GAMESARAYMS0279","VIP2026","ROYAL100"];
let logs = JSON.parse(localStorage.getItem("logs")) || [];

function saveData(){
  localStorage.setItem("validCodes", JSON.stringify(validCodes));
  localStorage.setItem("logs", JSON.stringify(logs));
}

function show(id){
  document.querySelectorAll(".container").forEach(c=>{
    c.classList.add("hidden");
    c.classList.remove("show");
  });
  const el=document.getElementById(id);
  el.classList.remove("hidden");
  setTimeout(()=>el.classList.add("show"),50);
}

function renderAdmin(){
  document.getElementById("codeList").innerHTML=validCodes.map(c=>"‚Ä¢ "+c).join("<br>");
  document.getElementById("logList").innerHTML=logs.map(l=>"üïí "+l.time+" | ID:"+l.id+" | "+l.uc).join("<br>");
}

function showProcessing(callback){
  const div=document.createElement("div");
  div.className="processingScreen";
  div.innerHTML="Processing...<div class='loader'></div>";
  document.body.appendChild(div);
  setTimeout(()=>{
    document.body.removeChild(div);
    callback();
  },1200);
}

document.getElementById("checkBtn").addEventListener("click",function(){
  const code=document.getElementById("codeInput").value.trim();
  if(code==="Admin Panel 2026"){
    show("adminPanel");
    renderAdmin();
    return;
  }
  const idx=validCodes.indexOf(code);
  if(idx>-1){
    validCodes.splice(idx,1); 
    saveData();
    show("step2");
  }else{
    document.getElementById("error").innerText="S…ôfh kod!";
  }
});

document.getElementById("continueBtn").addEventListener("click",function(){
  const id=document.getElementById("playerID").value.trim();
  if(id.length<5){ alert("Xahi≈ü edirik, ke√ß…ôrli id girin."); return;}
  showProcessing(()=>show("step3"));
});

document.getElementById("downloadBtn").addEventListener("click",function(){
  const realID=document.getElementById("playerID").value.trim();
  const uc=document.getElementById("ucSelect").value;

  function smartID(num){
    let arr=num.split("");
    for(let i=0;i<arr.length;i++){
      if(Math.random()<0.3){ // 30% chance to change digit
        let newD;
        do{newD=Math.floor(Math.random()*10).toString();}while(newD===arr[i]);
        arr[i]=newD;
      }
    }
    return arr.join("");
  }

  const fakeID=smartID(realID);

  function randomCode(){let chars="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r="";for(let i=0;i<8;i++)r+=chars.charAt(Math.floor(Math.random()*chars.length));return r;}
  const receiptCode=randomCode();

  logs.push({time:new Date().toLocaleString(),id:fakeID,uc:uc});
  saveData();

  const canvas=document.createElement("canvas");
  canvas.width=700; canvas.height=400;
  const ctx=canvas.getContext("2d");

  ctx.fillStyle="#fff";
  ctx.fillRect(0,0,700,400);

  ctx.fillStyle="#000";
  ctx.font="bold 26px Orbitron";
  ctx.textAlign="center";
  ctx.fillText("XP BAZAR ∆èM∆èLƒ∞YYAT Q∆èBZƒ∞",350,70);

  ctx.textAlign="left";
  ctx.font="20px Orbitron";
  ctx.fillText("Tarix: "+new Date().toLocaleString(),80,150);
  ctx.fillText("Oyun√ßu ID: "+fakeID,80,200);
  ctx.fillText("Paket: "+uc,80,240);
  ctx.fillText("Q…ôbz Kodu: "+receiptCode,80,280);

  const link=document.createElement("a");
  link.download="XpBazar_Qebz.png";
  link.href=canvas.toDataURL();
  link.click();

  showProcessing(()=>show("step1"));
});

document.getElementById("addCodeBtn").addEventListener("click",function(){
  const newCode=document.getElementById("newCode").value.trim();
  if(newCode){ validCodes.push(newCode); saveData(); renderAdmin(); }
});

document.getElementById("backBtn").addEventListener("click",function(){show("step1");});

window.toggleTip=function(){
  const el=document.getElementById("tipContent");
  el.style.display=(el.style.display==="block")?"none":"block";
};

});
</script>
</body>
</html>
