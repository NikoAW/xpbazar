<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GameSaray Pubg Mobile</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background: radial-gradient(circle at top, #00ffff, #000);
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
  padding:20px;
  color:#fff;
}

.container{
  text-align:center;
  background:#111;
  padding:35px;
  border-radius:20px;
  box-shadow:0 0 30px #00ffff;
  width:90%;
  max-width:420px;
  animation:fade 0.4s ease;
}

@keyframes fade{
  from{opacity:0; transform:scale(0.9);}
  to{opacity:1; transform:scale(1);}
}

.shake{ animation:shake 0.4s; }

@keyframes shake{
  0%{transform:translateX(0);}
  25%{transform:translateX(-5px);}
  50%{transform:translateX(5px);}
  75%{transform:translateX(-5px);}
  100%{transform:translateX(0);}
}

input, select{
  padding:12px;
  font-size:16px;
  border-radius:12px;
  border:none;
  margin-bottom:10px;
  width:100%;
  text-align:center;
  background:#222;
  color:#0ff;
}

button{
  padding:12px;
  font-size:15px;
  border-radius:12px;
  border:none;
  cursor:pointer;
  background:#0ff;
  color:#000;
  font-weight:bold;
  margin-top:5px;
  width:100%;
}

button:hover{ background:#00aaaa; }

.error{color:red;font-weight:bold;}
.hidden{display:none;}

.adminPanel{
  background:#000;
  border:2px solid #0ff;
  max-height:250px;
  overflow:auto;
  margin-top:10px;
  padding:10px;
  text-align:left;
  font-size:13px;
}
</style>
</head>
<body>

<div class="container" id="step1">
  <h2>KOD DAXƒ∞L ET</h2>
  <input type="text" id="codeInput" placeholder="Kod daxil et">
  <button onclick="checkCode()">KE√áƒ∞D ET</button>
  <div class="error" id="error1"></div>
</div>

<div class="container hidden" id="step2">
  <h2>UC SE√á</h2>
  <select id="ucSelect">
    <option value="60 UC">60 UC</option>
    <option value="325 UC">325 UC</option>
    <option value="660 UC">660 UC</option>
    <option value="1800 UC">1800 UC</option>
  </select>
  <h2>OYUN√áU ƒ∞D</h2>
  <input type="text" id="numberInput" maxlength="20" placeholder="Sad…ôc…ô r…ôq…ôm">
  <button onclick="confirmNumber()">T∆èSDƒ∞QL∆è</button>
  <div class="error" id="error2"></div>
</div>

<div class="container hidden" id="step3">
  <h2>Q∆èBZ ENDƒ∞R</h2>
  <button onclick="generateReceipt()">ENDƒ∞R</button>
</div>

<div class="container hidden" id="adminBox">
  <h2>ADMIN PANEL</h2>
  <input type="text" id="newCode" placeholder="Yeni kod …ôlav…ô et">
  <button onclick="addCode()">KOD ∆èLAV∆è ET</button>
  <button onclick="clearLogs()">LOGLARI Sƒ∞L</button>
  <div class="adminPanel" id="logArea"></div>
</div>

<script>

let validCodes = JSON.parse(localStorage.getItem("validCodes")) || [
  "GAMESARAYMS0279",
  "GAMESARAY00186KK",
  "GAMESARAY196028CF"
];

let logs = JSON.parse(localStorage.getItem("logs")) || [];
let activeCode = null;

// ADMIN trigger
document.addEventListener("input", function(e){
  if(e.target.value === "Admin Panel 2026"){
    openAdmin();
  }
});

function openAdmin(){
  document.querySelectorAll(".container").forEach(c=>c.classList.add("hidden"));
  document.getElementById("adminBox").classList.remove("hidden");
  renderLogs();
}

function renderLogs(){
  const area = document.getElementById("logArea");
  area.innerHTML="";
  logs.forEach(l=>{
    area.innerHTML += `<div>üïí ${l.time} | Kod: ${l.code}</div>`;
  });
}

function addCode(){
  const newCode = document.getElementById("newCode").value.trim();
  if(newCode){
    validCodes.push(newCode);
    localStorage.setItem("validCodes", JSON.stringify(validCodes));
    alert("Kod …ôlav…ô edildi");
  }
}

function clearLogs(){
  logs=[];
  localStorage.removeItem("logs");
  renderLogs();
}

function checkCode(){
  const box = document.getElementById("step1");
  const code = document.getElementById("codeInput").value.trim();

  if(!validCodes.includes(code)){
    box.classList.add("shake");
    setTimeout(()=>box.classList.remove("shake"),400);
    document.getElementById("error1").innerText="Kod s…ôhvdir!";
    return;
  }

  activeCode = code;
  logs.push({code:code,time:new Date().toLocaleString()});
  localStorage.setItem("logs", JSON.stringify(logs));

  document.getElementById("step1").classList.add("hidden");
  document.getElementById("step2").classList.remove("hidden");
}

document.getElementById("numberInput").addEventListener("input",function(){
  this.value=this.value.replace(/[^0-9]/g,"");
});

function confirmNumber(){
  const num=document.getElementById("numberInput").value.trim();
  const box=document.getElementById("step2");

  if(num.length<5){
    box.classList.add("shake");
    setTimeout(()=>box.classList.remove("shake"),400);
    document.getElementById("error2").innerText="ID s…ôhvdir!";
    return;
  }

  document.getElementById("step2").classList.add("hidden");
  document.getElementById("step3").classList.remove("hidden");
}

function generateReceipt(){

  const uc = document.getElementById("ucSelect").value;
  const id = document.getElementById("numberInput").value;

  const canvas = document.createElement("canvas");
  canvas.width = 600;
  canvas.height = 350;
  const ctx = canvas.getContext("2d");

  // Arxa fon
  ctx.fillStyle = "#ffffff";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  // Ba≈ülƒ±q
  ctx.fillStyle = "#000";
  ctx.font = "bold 24px monospace";
  ctx.fillText("GAME SARAY Sƒ∞PARƒ∞≈û Q∆èBZƒ∞",120,60);

  ctx.font = "18px monospace";
  ctx.fillText("OYUN√áU ID: " + id, 60,130);
  ctx.fillText("UC: " + uc, 60,170);
  ctx.fillText("Tarix: " + new Date().toLocaleString(), 60,210);

  ctx.fillText("QEBZ KODU: " + Math.random().toString(36).substring(2,10).toUpperCase(), 60,250);

  const link = document.createElement("a");
  link.download = "qebz.png";
  link.href = canvas.toDataURL("image/png");
  link.click();

  document.body.innerHTML="<h2 style='color:#0ff;text-align:center;'>∆èm…ôliyyat tamamlandƒ±.</h2>";
}

</script>
</body>
</html>
